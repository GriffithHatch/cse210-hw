# 1. Name:
#      Griffith Hatch
# 2. Assignment Name:
#      Lab 02: Authentication
# 3. Assignment Description:
#      The user will take the username from a list in a json file and match it with its password with user input
#      
# 4. What was the hardest part? Be as specific as possible.
#      I had to find a way to get the index of the username used. Then I could use that index to match the password
#      I did end up remembering that .index() was a thing and got through that.
# 5. How long did it take for you to complete the assignment?
#      1 hour


import json

usernames = []
passwords = []

user = False
lock = False #Could not use pass as variable because it is another function

with open("Lab02.json", "r") as file_handle:
    data_text = file_handle.read()
    data_dictionary = json.loads(data_text)
    # print(data_dictionary["username"])
    usernames = data_dictionary["username"]
    passwords = data_dictionary["password"]
#I could have done this with a dictionary but the assignment called for lists.
#Plus with how the json file is set up I would need more lines of code to fit it into a dictionary
#and it would be a lot more work

# print(usernames)
# print(passwords)

while user is False:
    enteruser = input("Please enter your username: ")
    if enteruser in usernames:
        print("Username accepted")
        user = True
    else:
        print("Unknown user")

key = usernames.index(enteruser)
""" Trial usernames and passwords
John Cheese  None shall pass
Black Knight  Tis but a scratch.
John Cheese  Tis but a scratch.
King Arthur  Bring out your dead!
Black Knight None shall pass
King Arthur  Run away!
French Soldier  I fart in your general direction

"""

# print(key)
# print(usernames[key])

# print(passwords[key])

while lock is False:
    enterpass = input("Please enter your password: ")
    if enterpass in passwords[key]:
        print("Password accepted")
        lock = True
    else:
        print("Password failed")
print()
print(f"Welcome {enteruser}")